# 项目详情

本文档包含有关雷霆战机游戏机制和技术方面的更详细信息。

## 游戏内部机制

### 敌人系统
- **敌人等级**: 敌人分为0-10级。等级越高，生命值、速度和攻击力越高。
- **敌人生成**: 随着游戏时间增加，生成的敌人数量和等级也会提高。
- **敌人射击**: 1级以上的敌人可以射击。射击频率和子弹速度随等级提高。
  - 低级敌人(1-4): 发射简单的红色子弹，直线下落。
  - 中级敌人(5-7): 发射橙色子弹，可能有水平移动。
  - 高级敌人(8-10): 发射蓝色或紫色子弹，可能有曲线轨迹。

### 子弹系统
- **玩家子弹**: 根据收集的道具，最多可有4种射击路径。
- **敌人子弹**: 根据敌人等级有不同外观、速度和伤害。
- **Boss子弹**: 特殊的大型子弹，伤害较高。

### 道具系统
- **生命道具**: 恢复玩家生命值。
- **子弹速度道具**: 提高玩家子弹速度。
- **子弹路径道具**: 增加玩家射击路径数量。
- **玩家速度道具**: 提升玩家移动速度。
- **道具生成**: 随着游戏进行和击败敌人获得积分，会随机生成道具。

### Boss系统
- **Boss等级**: Boss分为1-3级，等级越高越强大。
- **Boss生成**: 每隔一定时间会生成一个Boss。
- **Boss攻击**: 发射多颗子弹，数量和模式随等级变化。

### 音效系统
- **背景音乐**: 游戏过程中循环播放。
- **射击音效**: 玩家发射子弹时播放。
- **爆炸音效**: 敌人和Boss被击毁时播放。
- **受伤音效**: 玩家受到伤害时播放。
- **死亡音效**: 玩家飞机被击毁时播放。
- **道具获取音效**: 拾取道具时播放。
- **击败Boss音效**: 成功击败Boss时播放。
- **音量控制**: 可调整音效和音乐音量。

### 日志系统
- 标准化的日志输出，支持不同级别(DEBUG, INFO, WARNING, ERROR, CRITICAL)。
- 通过环境变量 `THUNDER_FIGHTER_LOG_LEVEL` 可调整日志级别（参见 README_CN.md 中的 [游戏操作](#游戏操作) 部分）。
- 所有游戏事件都有英文日志记录，便于调试和监控。

## 音效资源

游戏使用了位于 `thunder_fighter/assets/` 目录下的以下音效和音乐文件：

1. **音效 (`sounds/`)**: WAV 或 MP3 格式
   - `player_shoot.wav` - 玩家射击音效
   - `player_hit.wav` - 玩家受伤音效
   - `player_death.wav` - 玩家死亡音效
   - `enemy_explosion.wav` - 敌人爆炸音效
   - `boss_death.wav` - Boss死亡音效
   - `item_pickup.wav` - 道具拾取音效 (目前所有道具类型共用)

2. **音乐 (`music/`)**: MP3 格式
   - `background_music.mp3` - 游戏背景音乐

如果这些文件不存在，游戏会自动处理缺失音效，记录警告但不会影响正常游戏。

## 开发状态

- ✅ 核心游戏机制已实现
- ✅ 多级敌人系统与多样行为
- ✅ Boss战斗系统与独特攻击模式
- ✅ 道具掉落与收集系统
- ✅ 音效系统与音量控制
- ✅ 完整测试覆盖 (43个测试通过)
- ✅ 游戏优化与完善
- ✅ 多语言支持 (英文, 中文)
- ✅ 带通知的动态UI

## 技术细节

- 使用面向对象编程设计游戏实体。
- Pygame 精灵组(Sprite Groups)管理游戏对象碰撞检测。
- 自定义渲染系统创建游戏视觉效果。
- 标准化日志系统跟踪游戏事件。
- 音效管理器控制游戏音效播放。
- 模块化架构便于扩展和维护。
- 测试驱动开发确保代码质量与可靠性。
- 本地化系统支持多语言。 